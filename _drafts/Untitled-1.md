---
title: 初学Java语法 -- 与C++的区别
---
Java语法其实和C++很像, 不如说感觉就像是在C++的基础小修小补而来的. 因此, 与其列出Java的语法, 不如突出强调Java与C++的不同之处. 这样也避免我们将两者混淆.
<!--more-->

## 变量

Java中的变量类型只有两种: **基本数据类型**和**引用类型**. 其中引用类型类似于C++中的指针, 指向一个堆空间. 但Java没有指针, 这些细节都被隐藏了. 所以只需要记住, 声明一个变量时, 除了基本数据类型, 都是引用. 

因此, 所有对象的声明只是在声明一个引用, 对象真正的实体在`new`时定义.  
因此, 引用的赋值`a = b`只是让`a`指向`b`的对象, 并不会拷贝`b`的对象. 若需拷贝使用`Object.clone()`.
因此, 数组也是一个对象, 也需要`new`.

### 基本数据类型
Java的数据类型都带有一个默认值0, 因此初始化时总是有值的
- **整型**: `byte`, `short`, `int`, `long`(相当于C++中的`long long`)
  - 不存在无符号数, 总是带符号的.
  - `int`的长度为4 byte, 与机器无关.
- **浮点数**: `float`, `double`.
- **字符**: `char`.
  - UTF-16编码
- **布尔**: `boolean`.
  - 只有`true`和`false`两个取值. 无法再用非零整型来表示`true`.
  - 在需要条件表达式的地方, 只接受boolean类型.
  - 整数类型和布尔类型之间不能强制类型转换, 使用`x != 0`和`b ? 1 : 0`来实现.
- **枚举**: `enum`.

### 常量
`final`关键字, 而不是`const`.

### 数组
Java中的数组本质上是`java.util.Arrays`的一个对象.

声明的语法: `int[] arr;`.
- 可以把`int[]`看作一种类型. 
定义的语法: `arr = new int[100]`. 
- 类似于C++中动态数组的申请!
- 数组长度可以为0.

`array.length`可以获取数组的长度.

#### 多维数组

### 字符串
字符串有两个类来实现: **String**和**StringBuilder**. 

- 带双引号的字符串(如"String"), 默认就是一个String类的对象. 因此可以通过`String str = "String"`来声明并定义一个字符串.
- String类对象可以通过`+`进行连接. 对于String和其他类型(包括基本数据类型和任何对象), 那么会先将后者转换为字符串(`toString()`方法).
- String类的比较用`str1.equals(str2)`, 而不能用`==`. 后者表示比较两个是不是同一个对象!
- String类字符串是**不可更改的**. 所有的修改操作实际上都是创建一个新的字符串. 要频繁修改的字符串用StringBuilder来表示.

## IO

## 类和对象